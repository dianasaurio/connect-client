"use strict";!function(e,t){e.addEventListener("message",function(e){var t=e.data;"hapi-connect-close"===t.type&&(document.getElementById("human-api").remove(),document.getElementById("human-api-connect-modal-overlay").remove(),n.onClose&&n.onClose(t)),"hapi-connect-error"===t.type&&n.onError&&n.onError(t.error)},!1);var n={open:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(document.getElementById("human-api"))return null;if(!t.token)throw new Error("token option is required for spawning connect");t.__baseURL=t.__baseURL||"https://hapi-connect.humanapi.co",n.onFinish=t.finish,n.onClose=t.close,n.onError=t.error;var o=document.createElement("iframe");o.src=t.__baseURL+"/?token="+t.token,t.mode&&(o.src=o.src+"&mode="+t.mode),o.id="human-api",o.style.position="fixed",o.style.zIndex="9999",o.style.margin="0",o.style.padding="0",o.style.border="none",o.style.visibility="visible",o.style.background="#fff url("+t.__baseURL+"/images/data-source-type-icons/launch-connect-text.svg) no-repeat center center";var i=function(){e.innerWidth>=700&&e.innerHeight>=500?(o.style.height="100%",o.style.maxHeight="500px",o.style.width="100%",o.style.maxWidth="700px",o.style.borderRadius="8px",o.style.left="calc(50% - 350px)",o.style.top="calc(50% - 250px)",o.style.borderRadius="8px"):(o.style.width="100%",o.style.maxWidth="100%",o.style.height="100%",o.style.maxHeight="100%",o.style.top="0",o.style.left="0",o.style.borderRadius="none")};i(),e.addEventListener("resize",i);var r=document.createElement("div");r.id="human-api-connect-modal-overlay",r.style.position="fixed",r.style.width="100%",r.style.height="100%",r.style.top="0",r.style.backgroundColor="#333",r.style.opacity="0.6";var s=document.getElementsByTagName("body")[0]||document.documentElement;s.appendChild(o),s.appendChild(r)}};e.HumanConnect=n}(void 0);